<!DOCTYPE html>
<html lang="{{@site.locale}}" class="scroll-smooth">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" type="text/css" href="{{asset 'dist/css/index.css' hasMinFile='true'}}" />
        <script rel="preload" src="{{asset 'dist/js/index.js'}}" defer></script>
       
        {{#is "post"}}
            <!-- Highlight.js CSS (Dark Theme) -->
            <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"/>
        {{/is}}
    
        <title>{{meta_title}}</title>

        <script>
            // On page load or when changing themes, best to add inline in `head` to avoid FOUC
            if (
                localStorage.getItem('color-theme') === 'dark' ||
                (!('color-theme' in localStorage) &&
                    window.matchMedia('(prefers-color-scheme: dark)').matches)
            ) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        </script>
        
        <style>
        
            :root {
                --background: {{#if @site.accent_color}} {{@site.accent_color}} {{else}} oklch(1 0 0) {{/if}};
                --foreground: {{#if @custom.text_color_light}}{{@custom.text_color_light}}{{else}} oklch(0.141 0.005 285.823) {{/if}};
                --color-background: var(--background);
                --color-foreground: var(--foreground);
            }
             .dark {
                --background: {{#if @custom.background_color_dark}}{{@custom.background_color_dark}}{{else}} oklch(0.141 0.005 285.823) {{/if}};
                --foreground: {{#if @custom.text_color_dark}}{{@custom.text_color_dark}}{{else}} oklch(0.985 0 0) {{/if}};
                --color-background: var(--background);
                --color-foreground: var(--foreground);
  
            }
        </style>
        {{ghost_head}}
    </head>

    <body class="{{body_class}} bg-background text-foreground relative p-0 m-0 overscroll-none">
        
        {{!-- wrap with main element to show Announcement --}}
        <main class="m-0 flex p-0">

            {{> "sidebar"}}

            <div class="lg:ml-72 w-full overscroll-y-none px-10 py-8">

                {{!-- Header --}} 
                {{> "header"}} 
                
                {{!-- Content --}} 
                {{{body}}}

            </div>

        </main>
        
        {{!-- Theme Toggle Button --}}
        <button
            id="theme-toggle"
            type="button"
            aria-label="The theme toggle button switches the theme from light mode to dark mode."
            class="fixed right-6 bottom-6 z-50 flex size-10 items-center justify-center rounded-full border border-slate-200 bg-white shadow-sm transition-colors hover:scale-110 dark:border-slate-700 dark:bg-slate-800"
        >
            {{> "icons/sun" }} {{!-- partials/icons/sun.hbs --}} 
            {{> "icons/moon" }} {{!-- partials/icons/moon.hbs --}}
        </button>

        {{ghost_foot}}

    </body>
</html>
